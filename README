##### WCSimAnalysis #####

Contains code for studying WC events.
Includes various tools, event displays, 
and some basic reconstruction routines.

(1) Event Displays
A 'roll-out' event display is available along
with a 3D display based on TEve ROOT classes.
Both the displays are controlled by a simple
'TButton' interface.

(2) Rvent Reconstruction Routines
The basic routines are:
  Digit Clustering [run by WCSimDataCleaner]
  Vertex Fitter    [run by WCSimVertexFinder]
  Hough Transform  [run by WCSimRingFinder]
They are all just experimental...
The reconstruction code is housed in a basic
framework - WCSimReco runs all the routines.

(3) Event Ntuples
There are modules to write out various ntuples
e.g. all digits, all geometry, all MC truth.


##### WCSim Dependencies #####

Input to code is WCSim ROOT Classes, using the
following interfaces:

 o For quick analysis, WCSimEventWriter reads 
   in both WCSimRootGeom and WCSimRootEvent, 
   and writes the raw data to a set of ntuples.
 o For reconstruction, WCSimInterface reads 
   in both WCSimRootGeom and WCSimRootEvent.
   It uses WCSimRootEvent to build instances
   of WCSimTrueEvent and WCSimRecoEvent, 
   and passes WCSimRootGeom to WCSimGeometry 
 o WCSimGeometry reads WCSimRootGeom and
   provides a handle to the geometry.


##### Building the code #####

Need to edit Makefile to set correct path for 
WCSim .hh and .o files. These paths are stored 
in the variables WCSIM_INCDIR and WCSIM_LIBDIR 
respectively in the Makefile.

(1) To build everything

# make all
# (currently calls: clean, rootcint, shared)
# force a make clean each time, for now...

make all  
 OR  
make

(2) To build in stages

# clean
make clean

# build root dependencies
make rootcint

# build shared library (lib/libWCSimAnalysis.so)
# (note: need to run make rootcint first)
make shared 


###### Running the code #####

Note: need to set path to WCSim ROOT file.

# event displays
root -l wc_eventdisplay.C
root -l wc_eventdisplay_3D.C

# write out some ntuples
# (e.g. digits, geometry, truth)
root -l wc_eventwriter.C  [raw data, before reconstruction]
root -l wc_geometry.C     [write geometry to file]
root -l wc_eventntuple.C  [reco data, after reconstruction]

# for reconstruction 
root -l wc_eventreco.C

# test individual components
root -l 'wc_vertexdisplay.C(0)'  [displays event 0]
root -l 'wc_houghdisplay.C(0)'  [displays event 0]


